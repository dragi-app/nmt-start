<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ö–æ–ª–∏ –ø–æ—á–∏–Ω–∞—Ç–∏ –≥–æ—Ç—É–≤–∞—Ç–∏—Å—å –¥–æ –ù–ú–¢ ‚Äì –î—Ä–∞–≥—ñ</title>
    <style>
      /*
        –¶–µ–π —Ñ–∞–π–ª —Å—Ç–≤–æ—Ä—é—î –ø–æ–∫—Ä–æ–∫–æ–≤–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ–¥–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
        —Å—Ç–∞—Ä—Ç—É –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–æ –ù–ú–¢. –î–∏–∑–∞–π–Ω –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω–∏–π –ø—Ä–æ–º–æ‚Äë—Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
        –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É DRAGI: –º‚Äô—è–∫—ñ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∏, —á–∏—Å—Ç—ñ –∫–∞—Ä—Ç–∏ –π –º—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω—ñ
        –∫–Ω–æ–ø–∫–∏. –û–∫—Ä–µ–º—ñ –µ–∫—Ä–∞–Ω–∏ –ø–æ–∫—Ä–∞—â—É—é—Ç—å —Ñ–æ–∫—É—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
      */
      :root {
        --grad-start: #ff8a00; /* —Ç–µ–ø–ª–∏–π –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π */
        --grad-mid: #ff3e90;  /* —Ä–æ–∂–µ–≤–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫ */
        --grad-end: #7a00ff;  /* —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π, —è–∫–∏–π –¥–æ–º—ñ–Ω—É—î —É DRAGI */
        --card-bg: #ffffff;   /* —Ñ–æ–Ω –∫–∞—Ä—Ç–æ–∫ */
        --card-shadow: rgba(0, 0, 0, 0.1);
        --text-primary: #2a0d5d; /* —Ç–µ–º–Ω–æ‚Äë—Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ */
        --text-secondary: #4b2c82; /* –¥–ª—è –¥–æ–ø–æ–º—ñ–∂–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É */
        --button-bg: #ff8a00; /* –æ—Å–Ω–æ–≤–Ω–∞ –∫–Ω–æ–ø–∫–∞ */
        --button-bg-secondary: #7a00ff; /* –≤—Ç–æ—Ä–∏–Ω–Ω–∞ –∫–Ω–æ–ø–∫–∞ */
        --button-text: #ffffff;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      body {
        background: linear-gradient(45deg, var(--grad-start), var(--grad-mid), var(--grad-end));
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        color: var(--text-primary);
        display: flex;
        justify-content: center;
      }
      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      #app {
        width: 100%;
        max-width: 480px;
        margin: 0 auto;
      }
      .screen {
        display: none;
        min-height: 100vh;
        padding: 40px 20px;
      }
      .screen.active {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }
      /* –°–ø—ñ–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ —ñ —Ç–µ–∫—Å—Ç—É */
      h1, h2, h3 {
        margin-top: 0;
        margin-bottom: 0.8rem;
      }
      h1 {
        font-size: 2rem;
        font-weight: 700;
        color: #ffffff;
      }
      h2 {
        font-size: 1.6rem;
        font-weight: 700;
        color: #ffffff;
      }
      p {
        font-size: 1rem;
        line-height: 1.4;
        margin-bottom: 1rem;
      }
      /* –ö–Ω–æ–ø–∫–∏ */
      .btn {
        background: var(--button-bg);
        color: var(--button-text);
        padding: 0.8rem 1.2rem;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
        transition: transform 0.2s;
      }
      .btn:hover {
        transform: scale(1.05);
      }
      .btn-secondary {
        background: var(--button-bg-secondary);
      }
      /* –°—Ç–∏–ª—ñ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –≤–≤–µ–¥–µ–Ω–Ω—è */
      .input-card {
        width: 100%;
        background: var(--card-bg);
        border-radius: 16px;
        box-shadow: 0 8px 20px var(--card-shadow);
        padding: 1.2rem;
        margin-bottom: 1rem;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        color: var(--text-primary);
      }
      .input-card .emoji {
        /* –ó–±—ñ–ª—å—à—É—î–º–æ –µ–º–æ–¥–∑—ñ –¥–ª—è –∫—Ä–∞—â–æ—ó –≤—ñ–∑—É–∞–ª—å–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ */
        font-size: 2.2rem;
        margin-bottom: 0.5rem;
      }
      .input-card label {
        font-weight: 600;
        margin-bottom: 0.4rem;
        /* –ó–±—ñ–ª—å—à–∏–º–æ —à—Ä–∏—Ñ—Ç –ø—ñ–¥–ø–∏—Å—É –¥–ª—è –∫—Ä–∞—â–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ */
        font-size: 1.2rem;
      }
      .input-card input {
        width: 100%;
        background: rgba(0, 0, 0, 0.05);
        border: none;
        border-radius: 8px;
        /* –ó–±—ñ–ª—å—à—É—î–º–æ –≤—ñ–¥—Å—Ç—É–ø–∏ –π —Ä–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É —É—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–æ–ª—ñ–≤ */
        padding: 0.8rem;
        font-size: 1.1rem;
        color: var(--text-primary);
      }
      .input-card input:focus {
        outline: none;
        box-shadow: 0 0 0 2px var(--button-bg) inset;
      }
      /* –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –≤—ñ–¥—Å—Ç—É–ø –º—ñ–∂ –¥–≤–æ–º–∞ –ø–æ–ª—è–º–∏ –æ—Ü—ñ–Ω–æ–∫ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–∞—Ä—Ç–∫–∏ */
      .input-card input + input {
        margin-top: 0.6rem;
      }
      /* –í–∏–¥–∞–ª—è—î–º–æ —Å—Ç–∏–ª—å –¥–ª—è –≤–∏–±–æ—Ä—É –î—Ä–∞–≥—ñ (–±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ) */
      /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ —Ç–∞ –∫–∞—Ä—Ç–∫–∏ –∑ –±–∞–ª–∞–º–∏.  
         –¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ CSS‚Äë—Å—ñ—Ç–∫—É –∑–∞–º—ñ—Å—Ç—å —Ñ–ª–µ–∫—Å—ñ–≤, —â–æ–± –∫–∞—Ä—Ç–∫–∏ –∫—Ä–∞—â–µ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–ª–∏—Å—å.  
         –ù–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö –∫–æ–∂–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –∑–∞–π–º–∞—î –≤—Å—é —à–∏—Ä–∏–Ω—É, –∞ –Ω–∞ –±—ñ–ª—å—à–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö ‚Äì –¥–≤—ñ –∞–±–æ —Ç—Ä–∏ –∫–æ–ª–æ–Ω–∫–∏. */
      .subjects-container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
        width: 100%;
        margin-bottom: 1rem;
      }
      .input-card.subject {
        width: 100%;
        /* –ë—ñ–ª—å—à–µ –º—ñ—Å—Ü—è –ø—ñ–¥ –¥–≤–∞ –ø–æ–ª—è —Ç–∞ –ø—ñ–¥–ø–∏—Å */
        min-height: 260px;
        padding: 1.6rem;
        /* –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —á–µ—Ä–µ–∑ flex –∑—ñ —Å–ø–∞–¥–∫–æ—î–º–Ω–æ—ó .input-card */
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }
      @media (min-width: 600px) {
        .subjects-container {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (min-width: 900px) {
        /* –ù–∞ –≤–µ–ª–∏–∫–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–≤—ñ –∫–æ–ª–æ–Ω–∫–∏ –∑–∞–º—ñ—Å—Ç—å —Ç—Ä—å–æ—Ö, —â–æ–± –∫–∞—Ä—Ç–∫–∏ –±—É–ª–∏ —à–∏—Ä—à—ñ */
        .subjects-container {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      /* –°–ª–∞–π–¥–µ—Ä –¥–ª—è –≤–∏–±–æ—Ä—É –º—ñ—Å—è—Ü—è */
      .slider-container {
        width: 100%;
        margin: 1rem 0;
      }
      .slider-container input[type="range"] {
        width: 100%;
        -webkit-appearance: none;
        height: 8px;
        border-radius: 4px;
        background: rgba(0, 0, 0, 0.1);
        outline: none;
      }
      .slider-container input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: var(--button-bg);
        cursor: pointer;
        box-shadow: 0 0 4px rgba(0,0,0,0.3);
      }
      .slider-container input[type="range"]::-moz-range-thumb {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: var(--button-bg);
        cursor: pointer;
        box-shadow: 0 0 4px rgba(0,0,0,0.3);
      }
      .slider-labels {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin-top: 0.5rem;
      }
      .slider-labels span {
        font-size: 0.8rem;
        color: var(--text-primary);
        padding: 0.3rem 0.5rem;
        border-radius: 8px;
      }
      .slider-labels span.active {
        background: var(--button-bg);
        color: #ffffff !important;
        font-weight: 600;
      }
      .result-block {
        background: var(--card-bg);
        border-radius: 16px;
        box-shadow: 0 8px 20px var(--card-shadow);
        padding: 1.5rem;
        margin-bottom: 1rem;
        width: 100%;
        text-align: center;
        color: var(--text-primary);
      }
      .result-block img {
        width: 70%;
        max-width: 280px;
        border-radius: 16px;
        margin-bottom: 1rem;
        object-fit: cover;
      }
      .stress-bar {
        width: 100%;
        height: 8px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 4px;
        overflow: hidden;
        margin: 0.5rem 0;
      }
      .stress-fill {
        height: 100%;
        width: 0;
        background: var(--button-bg-secondary);
        transition: width 0.3s ease;
      }
      /* CTA –±–ª–æ–∫ */
      .cta {
        background: rgba(255, 255, 255, 0.15);
        padding: 1rem;
        border-radius: 12px;
        backdrop-filter: blur(10px);
        color: #ffffff;
        margin-top: 1rem;
        width: 100%;
      }
      .cta h3 {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
      }
      .cta p {
        font-size: 0.9rem;
        line-height: 1.4;
        margin-bottom: 0.6rem;
      }
      .store-buttons {
        display: flex;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .store-buttons a {
        flex: 1;
        text-decoration: none;
        background: var(--button-bg);
        color: var(--button-text);
        padding: 0.6rem 0.8rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 0.9rem;
        text-align: center;
        transition: opacity 0.2s;
      }
      .store-buttons a.play {
        background: var(--button-bg-secondary);
      }
      .store-buttons a:hover {
        opacity: 0.85;
      }
      .back-btn {
        margin-top: 1rem;
        font-size: 0.9rem;
        color: #ffffff;
        text-decoration: underline;
        cursor: pointer;
      }

      /* –ü–µ—Ä–µ–º–∏–∫–∞—á (switch) –¥–ª—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑ –î—Ä–∞–≥—ñ */

      /* –î–æ–¥–∞—Ç–∫–æ–≤–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ç–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç—ñ–≤.  
         –£ –¥–µ—è–∫–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Å—Ç–∏–ª—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–∫—Ä–∏–≤–∞—Ç–∏—Å—å, —Ç–æ–º—É —Ç—É—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ !important, —â–æ–± –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ  
         –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –∫–∞—Ä—Ç–∫–∏ —É —Å—Ç–æ–≤–ø—á–∏–∫ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö —ñ –ø–æ –¥–≤–∞/—Ç—Ä–∏ –Ω–∞ –±—ñ–ª—å—à–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö. */
      .subjects-container {
        /* –ö–∞—Ä—Ç–∫–∏ —Ä–æ–∑–º—ñ—â—É—é—Ç—å—Å—è –æ–¥–Ω–∞ –ø—ñ–¥ –æ–¥–Ω–æ—é, —â–æ–± –≤–æ–Ω–∏ –±—É–ª–∏ —à–∏—Ä–æ–∫–∏–º–∏ —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º–∏ */
        display: flex !important;
        flex-direction: column !important;
        gap: 1rem;
        width: 100%;
        margin-bottom: 1rem;
      }
      .input-card.subject {
        width: 100% !important;
        /* –ó–±—ñ–ª—å—à—É—î–º–æ –≤–∏—Å–æ—Ç—É –∫–∞—Ä—Ç–æ–∫ –¥–ª—è –∫—Ä–∞—â–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ */
        min-height: 260px;
      }
      /* –û—Å–∫—ñ–ª—å–∫–∏ –º–∏ –ø–æ–∫–∞–∑—É—î–º–æ –∫–∞—Ä—Ç–∫–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, –º–µ–¥—ñ–∞‚Äë–∑–∞–ø–∏—Ç–∏ –¥–ª—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–ª–æ–Ω–æ–∫ –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ */
      @media (min-width: 600px) {
        .subjects-container {
          flex-direction: column !important;
        }
      }
      @media (min-width: 900px) {
        .subjects-container {
          flex-direction: column !important;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- –°—Ç–∞—Ä—Ç–æ–≤–∏–π –µ–∫—Ä–∞–Ω -->
      <section id="start-screen" class="screen active">
        <img src="https://i.postimg.cc/QxNKk1Kz/with-book.png" alt="–î—Ä–∞–≥—ñ" style="width: 140px; height:auto; margin-bottom: 1rem;" />
        <h1>–ö–æ–ª–∏ –ø–æ—á–∏–Ω–∞—Ç–∏ –≥–æ—Ç—É–≤–∞—Ç–∏—Å—å –¥–æ –ù–ú–¢?</h1>
        <p style="color:#ffffff; max-width: 380px;">–¶–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–ø–æ–º–æ–∂–µ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å –ø–æ—á–∞—Ç–∫—É –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–æ –ù–ú–¢ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–≤–æ—ó—Ö —Å—Ç–∞—Ä—Ç–æ–≤–∏—Ö –±–∞–ª—ñ–≤ —ñ –±–∞–∂–∞–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É. –í–≤–µ–¥–∏ —Å–≤–æ—ó –±–∞–ª–∏ ‚Äî —ñ –¥—ñ–∑–Ω–∞–π—Å—è, –∫–æ–ª–∏ —Å—Ç–∞—Ä—Ç—É–≤–∞—Ç–∏.</p>
        <button class="btn" id="start-btn">–†–æ–∑–ø–æ—á–∞—Ç–∏</button>
      </section>
      <!-- –ï–∫—Ä–∞–Ω –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö -->
      <section id="input-screen" class="screen">
        <h2 style="color:#ffffff;">–í–∫–∞–∂–∏ —Å–≤–æ—ó —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏</h2>
        <div class="subjects-container">
          <!-- –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞: —Å—Ç–∞—Ä—Ç–æ–≤–∏–π —Ç–∞ –±–∞–∂–∞–Ω–∏–π –±–∞–ª -->
          <div class="input-card subject">
            <span class="emoji">üìò</span>
            <label>–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞</label>
            <input type="number" id="start-ua" min="100" max="200" placeholder="–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –±–∞–ª (100‚Äì200)" />
            <input type="number" id="target-ua" min="100" max="200" placeholder="–ë–∞–∂–∞–Ω–∏–π –±–∞–ª (100‚Äì200)" />
          </div>
          <!-- –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞: —Å—Ç–∞—Ä—Ç–æ–≤–∏–π —Ç–∞ –±–∞–∂–∞–Ω–∏–π –±–∞–ª -->
          <div class="input-card subject">
            <span class="emoji">üî¢</span>
            <label>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</label>
            <input type="number" id="start-math" min="100" max="200" placeholder="–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –±–∞–ª (100‚Äì200)" />
            <input type="number" id="target-math" min="100" max="200" placeholder="–ë–∞–∂–∞–Ω–∏–π –±–∞–ª (100‚Äì200)" />
          </div>
          <!-- –Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏: —Å—Ç–∞—Ä—Ç–æ–≤–∏–π —Ç–∞ –±–∞–∂–∞–Ω–∏–π –±–∞–ª -->
          <div class="input-card subject">
            <span class="emoji">üìú</span>
            <label>–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏</label>
            <input type="number" id="start-hist" min="100" max="200" placeholder="–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –±–∞–ª (100‚Äì200)" />
            <input type="number" id="target-hist" min="100" max="200" placeholder="–ë–∞–∂–∞–Ω–∏–π –±–∞–ª (100‚Äì200)" />
          </div>
        </div>
        <button class="btn" id="calc-btn" style="margin-top:1rem; width:100%;">–î–∞–ª—ñ</button>
        <span class="back-btn" id="back-to-start">‚Üê –ù–∞–∑–∞–¥</span>
      </section>
      <!-- –ï–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
      <section id="result-screen" class="screen">
        <!-- –ë–∞–∑–æ–≤–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è -->
        <div id="base-rec" style="color:#ffffff; margin-bottom:1rem; font-size:1.1rem; font-weight:600;"></div>
        <!-- –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –ø–æ–≤–∑—É–Ω–∫–∞ -->
        <p id="slider-note" style="display:none; color:#ffebe0; font-size:0.9rem; max-width:100%; margin-bottom:1rem;"></p>
        <!-- –ü–µ—Ä–µ–º–∏–∫–∞—á –î—Ä–∞–≥—ñ –≤–∏–¥–∞–ª–µ–Ω–æ -->
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞ –ø–æ–≤–∑—É–Ω–æ–∫ (–∑–∞–≤–∂–¥–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è) -->
        <div class="result-block">
          <img id="mood-img" src="" alt="–ù–∞—Å—Ç—Ä—ñ–π" />
          <p id="status-text" style="font-weight:600; margin-bottom:0.5rem;"></p>
          <p id="plan-text" style="margin-bottom:0.5rem;"></p>
          <div class="stress-bar"><div class="stress-fill" id="stress-fill"></div></div>
          <p id="stress-text" style="margin-bottom:0.5rem;"></p>
          <p id="advice-text" style="font-size:0.9rem; color: var(--text-secondary);"></p>
        </div>
        <!-- –ü–æ–≤–∑—É–Ω–æ–∫ –≤–∏–±–æ—Ä—É –º—ñ—Å—è—Ü—è —Ç–∞ –ø—ñ–¥–ø–∏—Å–∏ -->
        <div class="slider-container" id="slider-container">
          <input type="range" id="month-slider" min="0" max="8" step="1" />
          <div class="slider-labels" id="slider-labels">
            <span>–°–µ—Ä–ø.</span>
            <span>–í–µ—Ä.</span>
            <span>–ñ–æ–≤—Ç.</span>
            <span>–õ–∏—Å—Ç.</span>
            <span>–ì—Ä—É–¥.</span>
            <span>–°—ñ—á.</span>
            <span>–õ—é—Ç.</span>
            <span>–ë–µ—Ä.</span>
            <span>–ö–≤—ñ—Ç.</span>
          </div>
        </div>
        <!-- CTA –±–ª–æ–∫ -->
        <div class="cta" id="cta-block">
          <h3>–ó–∞–≤–∞–Ω—Ç–∞–∂—É–π –î—Ä–∞–≥—ñ —Ç–∞ –ø–æ—á–∏–Ω–∞–πüëá</h3>
          <p>
            –î—Ä–∞–≥—ñ¬†‚Äî —Ç–≤—ñ–π –æ—Å–æ–±–∏—Å—Ç–∏–π —Ç—Ä–µ–Ω–µ—Ä –¥–æ –ù–ú–¢: –∫–æ—Ä–æ—Ç–∫—ñ –∞–Ω—ñ–º–æ–≤–∞–Ω—ñ —É—Ä–æ–∫–∏, –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ –≤–ø—Ä–∞–≤–∏, –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π –∑–≤ º—è–∑–æ–∫ —Ç–∞ —Ä–æ–∑—É–º–Ω–∏–π –ø–ª–∞–Ω.<br />
            –í—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ!<br />
            –°–ø–ª–∞–Ω—É–π —Å–≤–æ—î –Ω–∞–≤—á–∞–Ω–Ω—è –≤ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É —Ç–∞ —Å–ø—Ä–æ–±—É–π –ø–µ—Ä—à—É —Ç–µ–º—É –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –≤–∂–µ —Å—å–æ–≥–æ–¥–Ω—ñ!üòá‚¨áÔ∏è
          </p>
          <div class="store-buttons">
            <a href="https://apps.apple.com/ua/app/%D0%B4%D1%80%D0%B0%D0%B3%D1%96-%D0%BF%D1%96%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B4%D0%BE-%D0%BD%D0%BC%D1%82-%D0%B7%D0%BD%D0%BE/id6502047535" target="_blank">App¬†Store</a>
            <a href="https://play.google.com/store/apps/details?id=ua.dragi.education" target="_blank" class="play">Google¬†Play</a>
          </div>
        </div>
        <button class="btn-secondary btn" id="restart-btn" style="margin-top:1rem; width:100%;">–ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
      </section>
    </div>
    <script>
      // –ú–∞—Å–∏–≤–∏ –±–∞–∑–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –¥–ª—è –º—ñ—Å—è—Ü—ñ–≤ (–°–µ—Ä–ø–µ–Ω—å –ø–æ –ö–≤—ñ—Ç–µ–Ω—å)
      const months = ['–°–µ—Ä–ø–µ–Ω—å','–í–µ—Ä–µ—Å–µ–Ω—å','–ñ–æ–≤—Ç–µ–Ω—å','–õ–∏—Å—Ç–æ–ø–∞–¥','–ì—Ä—É–¥–µ–Ω—å','–°—ñ—á–µ–Ω—å','–õ—é—Ç–∏–π','–ë–µ—Ä–µ–∑–µ–Ω—å','–ö–≤—ñ—Ç–µ–Ω—å'];
      const baseIntensity = ['light','light','medium','medium','medium','high','high','crunch','crunch'];
      const baseStress = [1,2,2,3,4,4,5,5,5];
      const focusArray = [
        '–∑–≤–∏—á–∫–∞, –±–∞–∑–æ–≤—ñ —Ç–µ–º–∏',
        '—Å–∏—Å—Ç–µ–º–Ω—ñ—Å—Ç—å, –º—ñ–Ω—ñ‚Äë—Ç–µ—Å—Ç–∏',
        '–ø—Ä–æ–≥–∞–ª–∏–Ω–∏, –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏ —Ä–∞–∑ –Ω–∞ –¥–≤–∞ —Ç–∏–∂–Ω—ñ',
        '—Ç–µ–º–ø + —Ñ–æ—Ä–º–∞—Ç, —Ç–∞–π–º‚Äë–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç',
        '—ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—à–µ, –ø–µ—Ä—à—ñ –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏',
        '—Å–ª–∞–±–∫—ñ —Ç–µ–º–∏, –ø–æ–≤–Ω—ñ –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏ —â–æ—Ç–∏–∂–Ω—è',
        '—Ñ–æ—Ä–º–∞—Ç, —Ç–∞–π–º—ñ–Ω–≥, –ø–æ–º–∏–ª–∫–∏',
        '—ñ–Ω—Ç–µ–Ω—Å–∏–≤, –º–∞–∫—Å–∏–º—É–º –ø—Ä–∞–∫—Ç–∏–∫–∏',
        '–ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è, –º—ñ–∫—Ä–æ‚Äë—Ü—ñ–ª—ñ, —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ü—ñ—è'
      ];
      const intensityMinutes = {
        'light': '20‚Äì30 —Ö–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç; 3 –¥–Ω—ñ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å',
        'medium': '30‚Äì40 —Ö–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç; 4‚Äì5 –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å',
        'high': '45‚Äì60 —Ö–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç; 5‚Äì6 –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å + —â–æ—Ç–∏–∂–Ω–µ–≤—ñ –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏',
        'crunch': '60‚Äì75 —Ö–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç; 6‚Äì7 –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å + 2 –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏/–º—ñ—Å—è—Ü—å —Ç–∞ —â–æ–¥–µ–Ω–Ω–∏–π —Ç–∞–π–º‚Äë—Ç—Ä–µ–Ω—ñ–Ω–≥'
      };
      const intensityNames = {
        'light': '–ª–µ–≥–∫–∏–π',
        'medium': '—Å–µ—Ä–µ–¥–Ω—ñ–π',
        'high': '–≤–∏—Å–æ–∫–∏–π',
        'crunch': '—ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∏–π'
      };
      // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ—ó–≤
      const moodImages = {
        super_happy: 'https://i.postimg.cc/tJYDYwb3/happ1.jpg',
        happy: 'https://i.postimg.cc/Ss517kDT/happ2.jpg',
        neutral: 'https://i.postimg.cc/9XRnXwQv/happ3.jpg',
        anxious: 'https://i.postimg.cc/K8Fq59D2/happ4.jpg',
        panic: 'https://i.postimg.cc/3RP909xz/happ5.jpg',
        unhappy: 'https://i.postimg.cc/D0kdwZCT/happ-6.jpg'
      };
      // –¢–µ–∫—Å—Ç–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ—ó–≤
      const moodTexts = {
        super_happy: '–Ü–¥–µ–∞–ª—å–Ω–∏–π —Ç–∞–π–º—ñ–Ω–≥! –ú–∞–ª–∏–π —â–æ–¥–µ–Ω–Ω–∏–π —Ç–µ–º–ø –¥–∞—î –≤–µ–ª–∏–∫—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –±–µ–∑ —Å—Ç—Ä–µ—Å—É.',
        happy: '–ì–∞—Ä–Ω–∏–π —Å—Ç–∞—Ä—Ç! –†–µ–≥—É–ª—è—Ä–Ω—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤—ñ—à–∞ –∑–∞ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—å. 20‚Äì30 —Ö–≤–∏–ª–∏–Ω —â–æ–¥–Ω—è –∑–∞–ª–∏—à–∞—Ç—å —á–∞—Å –¥–ª—è –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É.',
        neutral: '–°–∫–æ—Ä–æ —Å—Ç–∞—Ä—Ç. –ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞ —Ç–∞ –±—ñ–ª—å—à–µ –ø—Ä–∞–∫—Ç–∏–∫–∏. –ó–º–µ–Ω—à—É–π –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü—ñ—é –π —Å—Ç–µ–∂ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å–æ–º.',
        anxious: '–°—Ç–∏—Å–ª—ñ —Å—Ç—Ä–æ–∫–∏. –ü–æ—Ç—Ä—ñ–±–µ–Ω —á—ñ—Ç–∫–∏–π –ø–ª–∞–Ω, —â–æ—Ç–∏–∂–Ω–µ–≤—ñ —Ç–µ—Å—Ç–∏ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–∞–π–º—ñ–Ω–≥—É.',
        panic: '–î—É–∂–µ –ø—ñ–∑–Ω–æ. –ü–æ—Ç—Ä—ñ–±–Ω—ñ —â–æ–¥–µ–Ω–Ω—ñ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è. –ú–æ–∂–ª–∏–≤–æ –≤–∞—Ä—Ç–æ —Å–∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏ —Ü—ñ–ª—å –∞–±–æ –ø–ª–∞–Ω.',
        unhappy: '–†–∞–¥–∏–º–æ –≥–æ—Ç—É–≤–∞—Ç–∏—Å—å —ñ–∑ –î—Ä–∞–≥—ñ, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—å, —è–∫—ñ—Å–Ω–æ –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏—Å—å —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –≤—ñ–¥ –ø—Ä–æ—Ü–µ—Å—É!'
      };
      // –î–æ—Å—Ç—É–ø –¥–æ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ DOM
      const startScreen = document.getElementById('start-screen');
      const inputScreen = document.getElementById('input-screen');
      const resultScreen = document.getElementById('result-screen');
      const startBtn = document.getElementById('start-btn');
      const calcBtn = document.getElementById('calc-btn');
      const restartBtn = document.getElementById('restart-btn');
      const baseRecElem = document.getElementById('base-rec');
      const sliderNoteElem = document.getElementById('slider-note');
      // –ï–ª–µ–º–µ–Ω—Ç–∏ –¥–ª—è —Å–ª–∞–π–¥–µ—Ä–∞ –≤–∏–±–æ—Ä—É –º—ñ—Å—è—Ü—è
      const monthSlider = document.getElementById('month-slider');
      const sliderLabels = document.getElementById('slider-labels');
      const moodImgElem = document.getElementById('mood-img');
      const statusTextElem = document.getElementById('status-text');
      const planTextElem = document.getElementById('plan-text');
      const stressFillElem = document.getElementById('stress-fill');
      const stressTextElem = document.getElementById('stress-text');
      const adviceTextElem = document.getElementById('advice-text');
      // –ü–µ—Ä–µ–º–∏–∫–∞—á –Ω–∞–∑–∞–¥
      document.getElementById('back-to-start').onclick = () => showScreen('start');
      // –ó–º—ñ–Ω–Ω—ñ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
      let startUA = null;
      let startMath = null;
      let startHist = null;
      let targetUA = null;
      let targetMath = null;
      let targetHist = null;
      let gapBucket = 'G0';
      // –ü–µ—Ä–µ–º–∏–∫–∞—á —Ç–∞ –±–ª–æ–∫–∏ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–æ—é –∑ –î—Ä–∞–≥—ñ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è.
      // –§—É–Ω–∫—Ü—ñ—è –∑–º—ñ–Ω–∏ –µ–∫—Ä–∞–Ω—É
      function showScreen(name) {
        // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –µ–∫—Ä–∞–Ω–∏
        [startScreen, inputScreen, resultScreen].forEach(el => el.classList.remove('active'));
      if (name === 'start') {
          startScreen.classList.add('active');
        } else if (name === 'input') {
          inputScreen.classList.add('active');
        } else if (name === 'result') {
          resultScreen.classList.add('active');
        }
      }
      // –°–ª—É—Ö–∞—á –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ä—Ç—É
      startBtn.onclick = () => {
        showScreen('input');
      };
      // –°–ª—É—Ö–∞—á –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É
      calcBtn.onclick = () => {
        // –ó—á–∏—Ç—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
        const sUA = parseInt(document.getElementById('start-ua').value, 10);
        const tUA = parseInt(document.getElementById('target-ua').value, 10);
        const sMath = parseInt(document.getElementById('start-math').value, 10);
        const tMath = parseInt(document.getElementById('target-math').value, 10);
        const sHist = parseInt(document.getElementById('start-hist').value, 10);
        const tHist = parseInt(document.getElementById('target-hist').value, 10);
        // –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ–ª—ñ–≤: —É—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –º—ñ–∂ 100 —Ç–∞ 200
        if (
          isNaN(sUA) || sUA < 100 || sUA > 200 ||
          isNaN(tUA) || tUA < 100 || tUA > 200 ||
          isNaN(sMath) || sMath < 100 || sMath > 200 ||
          isNaN(tMath) || tMath < 100 || tMath > 200 ||
          isNaN(sHist) || sHist < 100 || sHist > 200 ||
          isNaN(tHist) || tHist < 100 || tHist > 200
        ) {
          alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω–∏ –≤—Å—ñ –ø–æ–ª—è –±–∞–ª–∞–º–∏ –≤—ñ–¥ 100 –¥–æ 200.');
          return;
        }
        // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ
        startUA = sUA;
        targetUA = tUA;
        startMath = sMath;
        targetMath = tMath;
        startHist = sHist;
        targetHist = tHist;
        // –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ —Ä—ñ–∑–Ω–∏—Ü—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
        const diffUA = targetUA - startUA;
        const diffMath = targetMath - startMath;
        const diffHist = targetHist - startHist;
        const avgDiff = Math.round((diffUA + diffMath + diffHist) / 3);
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ bucket –∑–∞ —Å–µ—Ä–µ–¥–Ω—ñ–º —Ä–æ–∑—Ä–∏–≤–æ–º
        gapBucket = computeGapBucket(avgDiff);
        // –í–∏–≤–æ–¥–∏–º–æ –±–∞–∑–æ–≤—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—é —ñ–∑ –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º
        baseRecElem.textContent = getBaseRecommendation(gapBucket);
        // –ü–æ–∫–∞–∑—É—î–º–æ –Ω–æ—Ç–∞—Ç–∫—É –ø—Ä–æ –ø–æ–≤–∑—É–Ω–æ–∫ (–≤–æ–Ω–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏–º–µ—Ç—å—Å—è –ø—ñ—Å–ª—è —É–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –î—Ä–∞–≥—ñ)
        sliderNoteElem.innerHTML = '<strong>–û—Ä–∞–Ω–∂–µ–≤–∞ –∫—Ä–∞–ø–∫–∞ ‚Äî —Ü–µ —Ç–≤—ñ–π –ø–æ—á–∞—Ç–æ–∫ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏.</strong> –°–ø—Ä–æ–±—É–π –ø–µ—Ä–µ—Å—É–Ω—É—Ç–∏ –ø–æ–≤–∑—É–Ω–æ–∫ –ª—ñ–≤–æ—Ä—É—á/–ø—Ä–∞–≤–æ—Ä—É—á —ñ –∑—Ä–æ–∑—É–º—ñ—î—à, —è–∫ –±—É–¥–µ –≤—ñ–¥—á—É–≤–∞—Ç–∏—Å—å –≤—ñ–¥–∫–ª–∞–¥–∞—Ç–∏, –∞–±–æ –ø–æ—á–∞—Ç–∏ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫—É —Ä–∞–Ω—ñ—à–µüòá';
        renderResult();
        showScreen('result');
      };

      // –°–ª—É—Ö–∞—á –¥–ª—è –∑–º—ñ–Ω–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –ø–æ–≤–∑—É–Ω–∫—É –º—ñ—Å—è—Ü—ñ–≤
      if (monthSlider) {
        monthSlider.addEventListener('input', () => {
          const idx = parseInt(monthSlider.value);
          updateResult(idx);
          updateSliderHighlight(idx);
        });
      }

      // –ü–µ—Ä–µ–º–∏–∫–∞—á –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑ –î—Ä–∞–≥—ñ –≤–∏–¥–∞–ª–µ–Ω–æ, —Ç–æ–º—É –Ω–µ–º–∞—î —Å–ª—É—Ö–∞—á–∞
      // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–æ–∑—Ä–∏–≤—É
      function computeGapBucket(gap) {
        if (gap >= 50) return 'G3';
        if (gap >= 20) return 'G2';
        if (gap >= 1) return 'G1';
        return 'G0';
      }
      // –ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–µ—Ä–µ–¥ –≤–∏–±–æ—Ä–æ–º –º—ñ—Å—è—Ü—è
      function getBaseRecommendation(bucket) {
        const prefix = '‚ùóÔ∏è–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è (–≤—Ä–∞—Ö—É–≤–∞–≤ —Ç–≤–æ—ó –±–∞–ª–∏): ';
        if (bucket === 'G3') {
          return prefix + '–©–æ–± –¥–æ—Å—è–≥—Ç–∏ —Å–≤–æ—î—ó —Ü—ñ–ª—ñ –π –ø–æ–∫—Ä–∞—â–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ 50+ –±–∞–ª—ñ–≤, –ø–æ—á–∏–Ω–∞–π –≤–∂–µ –≤ —Å–µ—Ä–ø–Ω—ñ. –†–∞–Ω–Ω—ñ–π —Å—Ç–∞—Ä—Ç –¥–∞—Å—Ç—å —á–∞—Å –∑–∞–∫–ª–∞—Å—Ç–∏ –±–∞–∑—É —Ç–∞ –∑–º–µ–Ω—à–∏—Ç–∏ —Å—Ç—Ä–µ—Å.';
        } else if (bucket === 'G2') {
          return prefix + '–©–æ–± –ø–æ–∫—Ä–∞—â–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ 20‚Äì50 –±–∞–ª—ñ–≤, —Ä–∞–¥–∏–º–æ –ø–æ—á–∏–Ω–∞—Ç–∏ —É –≤–µ—Ä–µ—Å–Ω—ñ —Ç–∞ –≤—á–∏—Ç–∏—Å—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ: 20‚Äì30 —Ö–≤–∏–ª–∏–Ω –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —â–æ–¥–Ω—è.';
        } else if (bucket === 'G1') {
          return prefix + '–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ 20 –±–∞–ª—ñ–≤, –º–æ–∂–µ—à —Å—Ç–∞—Ä—Ç—É–≤–∞—Ç–∏ —É –≥—Ä—É–¥–Ω—ñ‚Äì–ª—é—Ç–æ–º—É. –ê–ª–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ —Ç—Ä–µ–Ω—É–π —Ñ–æ—Ä–º–∞—Ç –ù–ú–¢ —Ç–∞ —Ç–∞–π–º—ñ–Ω–≥.';
        } else {
          return prefix + '–¢–∏ –≤–∂–µ –º–∞–π–∂–µ –±—ñ–ª—è —Å–≤–æ—î—ó —Ü—ñ–ª—ñ! –ü—ñ–¥—Ç—Ä–∏–º—É–π —Ñ–æ—Ä–º—É, —Ç—Ä–µ–Ω—É–π —Ç–∞–π–º—ñ–Ω–≥ —ñ —Ç—Ä–µ–Ω—É–π—Å—è –Ω–∞ –ø—Ä–æ–±–Ω–∏—Ö –µ–∫–∑–∞–º–µ–Ω–∞—Ö.';
        }
      }
      // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–ª–∞–Ω—É –∑–∞ –º—ñ—Å—è—Ü–µ–º —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é —Ä–æ–∑—Ä–∏–≤—É
      function computePlan(monthIndex, bucket) {
        let intensity = baseIntensity[monthIndex];
        let stress = baseStress[monthIndex];
        const intensityOrder = ['light','medium','high','crunch'];
        function upgrade(curr) {
          const idx = intensityOrder.indexOf(curr);
          return intensityOrder[Math.min(idx + 1, intensityOrder.length - 1)];
        }
        function maxIntensity(curr, max) {
          const idx = intensityOrder.indexOf(curr);
          const maxIdx = intensityOrder.indexOf(max);
          return intensityOrder[Math.min(idx, maxIdx)];
        }
        // –£ –∫–≤—ñ—Ç–Ω—ñ –∑–∞–≤–∂–¥–∏ –Ω–∞–π–≤–∏—â–∏–π —Ä—ñ–≤–µ–Ω—å
        if (monthIndex === 8) {
          intensity = 'crunch';
          stress = 5;
        } else {
          if (bucket === 'G3') {
            if (monthIndex >= 5) {
              // –°—Ç–∞—Ä—Ç –ø—ñ—Å–ª—è –≥—Ä—É–¥–Ω—è: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–µ–∂–∏–º
              if (monthIndex >= 6) {
                intensity = 'crunch';
              } else {
                intensity = 'high';
              }
              stress = 5;
            } else {
              intensity = upgrade(intensity);
              stress = Math.min(stress + 1, 5);
            }
          } else if (bucket === 'G2') {
            if (monthIndex >= 3) {
              intensity = upgrade(intensity);
              stress = Math.min(stress + 1, 5);
            }
          } else if (bucket === 'G1') {
            if (monthIndex >= 6) {
              intensity = maxIntensity('high', 'high');
              stress = Math.min(stress, 4);
            }
          } else {
            intensity = 'light';
            stress = 1;
          }
        }
        const focus = focusArray[monthIndex];
        return { intensity, stress, focus };
      }
      // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –Ω–∞—Å—Ç—Ä–æ—é –∑–∞ –º—ñ—Å—è—Ü–µ–º —Ç–∞ bucket
      function computeMood(monthIndex, bucket) {
        // –Ø–∫—â–æ –∫–≤—ñ—Ç–µ–Ω—å (8-–π —ñ–Ω–¥–µ–∫—Å), –∑–∞–≤–∂–¥–∏ –ø–∞–Ω—ñ–∫–∞
        if (monthIndex === 8) {
          return 'panic';
        }
        if (monthIndex <= 1) {
          if (bucket === 'G3') return 'happy';
          if (bucket === 'G2') return 'super_happy';
          return 'super_happy';
        } else if (monthIndex <= 3) {
          if (bucket === 'G3') return 'neutral';
          if (bucket === 'G2') return 'happy';
          return 'super_happy';
        } else if (monthIndex <= 5) {
          if (bucket === 'G3') return 'anxious';
          if (bucket === 'G2') return 'neutral';
          return 'happy';
        } else {
          if (bucket === 'G3') return 'panic';
          if (bucket === 'G2') return 'anxious';
          if (bucket === 'G1') return 'neutral';
          return 'happy';
        }
      }
      // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è
      function updateResult(monthIndex) {
        const plan = computePlan(monthIndex, gapBucket);
        const mood = computeMood(monthIndex, gapBucket);
        // –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —Ç–µ–∫—Å—Ç –Ω–∞—Å—Ç—Ä–æ—é
        moodImgElem.src = moodImages[mood];
        statusTextElem.textContent = moodTexts[mood];
        // –î–µ—Ç–∞–ª—ñ –ø–ª–∞–Ω—É
        planTextElem.textContent = `–¢–µ–º–ø: ${intensityNames[plan.intensity]} ‚Äî ${intensityMinutes[plan.intensity]}; —Ñ–æ–∫—É—Å: ${plan.focus}.`;
        // –†—ñ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—É –∑ –æ–ø–∏—Å–æ–º
        let stressDesc = '';
        if (plan.stress <= 1) stressDesc = '–Ω–∏–∑—å–∫–∏–π';
        else if (plan.stress === 2) stressDesc = '–ø–æ–º—ñ—Ä–Ω–∏–π';
        else if (plan.stress === 3) stressDesc = '—Å–µ—Ä–µ–¥–Ω—ñ–π';
        else if (plan.stress === 4) stressDesc = '–≤–∏—Å–æ–∫–∏–π';
        else stressDesc = '–¥—É–∂–µ –≤–∏—Å–æ–∫–∏–π: –Ω–µ –≤—Å—Ç–∏–≥–Ω–µ—à –ø—Ä–æ–π—Ç–∏ –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º—É';
        stressTextElem.textContent = `–†—ñ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—É: ${plan.stress}/5 ‚Äî ${stressDesc}`;
        // –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Å–º—É–≥–∏ —Å—Ç—Ä–µ—Å—É
        const width = (plan.stress / 5) * 100;
        stressFillElem.style.width = width + '%';
        // –ü–æ—Ä–∞–¥–∞
        adviceTextElem.textContent = getAdvice(plan.intensity);
      }

      // –ü—ñ–¥—Å–≤—ñ—á—É—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π –ø—ñ–¥–ø–∏—Å –º—ñ—Å—è—Ü—è –Ω–∞ —à–∫–∞–ª—ñ
      function updateSliderHighlight(idx) {
        const spans = sliderLabels.querySelectorAll('span');
        spans.forEach((span, i) => {
          if (i === idx) span.classList.add('active');
          else span.classList.remove('active');
        });
      }
      // –ú—ñ–∫—Ä–æ‚Äë–ø–æ—Ä–∞–¥–∏ –∑–∞ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—é
      function getAdvice(intensity) {
        switch (intensity) {
          case 'light':
            return '–ë—É–¥—É–π –∑–≤–∏—á–∫—É: 3 –¥–Ω—ñ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å –ø–æ 20‚Äì30 —Ö–≤. –¢–µ–º–ø —Å–ø–æ–∫—ñ–π–Ω–∏–π, –≤–∏—Å—Ç–∞—á–∏—Ç—å —á–∞—Å—É –Ω–∞ –ø—Ä–æ–≥—É–ª—è–Ω–∫–∏ –∑ –¥—Ä—É–∑—è–º–∏ —Ç–∞ –¥—Ä—É–≥–æ—é –ø–æ–ª–æ–≤–∏–Ω–∫–æ—é.';
          case 'medium':
            return '–ü–æ—Å—Ç—É–ø–æ–≤–∏–π —Ç–µ–º–ø: 4‚Äì5 –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å –ø–æ 30‚Äì40 —Ö–≤–∏–ª–∏–Ω. –î–æ–¥–∞–≤–∞–π –ø—Ä–∞–∫—Ç–∏–∫—É, –∞–ª–µ —â–µ –º–æ–∂–µ—à –≤—ñ–¥–ø–æ—á–∏–≤–∞—Ç–∏.';
          case 'high':
            return '–°–µ—Ä–π–æ–∑–Ω–∏–π —Ç–µ–º–ø: 5‚Äì6 –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å –ø–æ 45‚Äì60 —Ö–≤–∏–ª–∏–Ω —Ç–∞ —â–æ—Ç–∏–∂–Ω–µ–≤—ñ –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏. –ß–∞—Å—É –Ω–∞ —Ä–æ–∑–≤–∞–≥–∏ –º–∞–π–∂–µ –Ω–µ–º–∞—î, —Å–ª—ñ–¥–∫—É–π –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Å—Ç—Ä–µ—Å—É.';
          case 'crunch':
            return '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ç–µ–º–ø: 6‚Äì7 –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å –ø–æ 60‚Äì75 —Ö–≤–∏–ª–∏–Ω —Ç–∞ 2 –ø—Ä–æ–±–Ω—ñ –µ–∫–∑–∞–º–µ–Ω–∏ –Ω–∞ –º—ñ—Å—è—Ü—å. –î—É–∂–µ –º–∞–ª–æ –≤—ñ–ª—å–Ω–æ–≥–æ —á–∞—Å—É —Ç–∞ –≤–∏—Å–æ–∫–∏–π —Ä–∏–∑–∏–∫ –Ω–µ –≤—Å—Ç–∏–≥–Ω—É—Ç–∏ –ø—Ä–æ–π—Ç–∏ –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º—É.';
          default:
            return '';
        }
      }
      // –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
      function renderResult() {
        // –ù–æ—Ç–∞—Ç–∫–∞ –ø—Ä–æ –ø–æ–≤–∑—É–Ω–æ–∫ –∑–∞–≤–∂–¥–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è, —â–æ–± –ø–æ—è—Å–Ω–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É, —è–∫ –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å.
        sliderNoteElem.style.display = 'block';
        // –í–∏–±—ñ—Ä –º—ñ—Å—è—Ü—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: –¥–ª—è G3 -> –°–µ—Ä–ø.; G2 -> –í–µ—Ä.; G1 -> –ì—Ä—É–¥./–°—ñ—á./–õ—é—Ç.; G0 -> –õ—é—Ç.
        let defaultIndex = 0;
        if (gapBucket === 'G3') defaultIndex = 0;
        else if (gapBucket === 'G2') defaultIndex = 1;
        else if (gapBucket === 'G1') {
          const avgDiff = ( (targetUA - startUA) + (targetMath - startMath) + (targetHist - startHist) ) / 3;
          if (avgDiff >= 15) defaultIndex = 4; // –≥—Ä—É–¥–µ–Ω—å
          else if (avgDiff >= 8) defaultIndex = 5; // —Å—ñ—á–µ–Ω—å
          else defaultIndex = 6; // –ª—é—Ç–∏–π
        } else {
          defaultIndex = 6;
        }
        // –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–≤–∑—É–Ω–∫–∞ —Ç–∞ –≤–∏–¥—ñ–ª–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å
        monthSlider.value = defaultIndex;
        updateSliderHighlight(defaultIndex);
        updateResult(defaultIndex);
      }
      // –ö–Ω–æ–ø–∫–∞ –ø–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É
      restartBtn.onclick = () => {
        // –°–∫–∏–¥–∞—î–º–æ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
        document.getElementById('start-ua').value = '';
        document.getElementById('target-ua').value = '';
        document.getElementById('start-math').value = '';
        document.getElementById('target-math').value = '';
        document.getElementById('start-hist').value = '';
        document.getElementById('target-hist').value = '';
        // –°–∫–∏–¥–∞—î–º–æ –ø–æ–≤–∑—É–Ω–æ–∫ —Ç–∞ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è
        if (monthSlider) {
          monthSlider.value = 0;
          updateSliderHighlight(0);
        }
        // –û—á–∏—â–∞—î–º–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—é —Ç–∞ –Ω–æ—Ç–∞—Ç–∫—É
        baseRecElem.textContent = '';
        sliderNoteElem.style.display = 'none';
        // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—å –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∏–π –µ–∫—Ä–∞–Ω
        showScreen('start');
      };
    </script>
  </body>
</html>